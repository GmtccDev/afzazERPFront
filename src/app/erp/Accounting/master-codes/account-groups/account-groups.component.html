<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-scale-multiple" [fullScreen]="true">
	<p style="color: white ;font-size: 20px;"> {{'general.loading'|translate}}...... </p>
</ngx-spinner>
<div class="card">
	<div class="card-body">
		<button nz-button nzType="primary" (click)="expandAllRows()">
			{{ 'general.all' | translate }}
		</button>
		<nz-table #expandTable [nzBordered]="true" [nzData]="listOfMapData" nzTableLayout="fixed"
			class="table table-broder p-0 mt-2">
			<thead>
				<tr>
					<th> {{'general.code'|translate}}</th>
					<th> {{'general.nameAr'|translate}}</th>
					<th> {{'general.nameEn'|translate}}</th>
					<th>{{'general.actions'|translate}}</th>
				</tr>
			</thead>
			<tbody>
				<ng-container *ngFor="let data of expandTable.data">
					<ng-container *ngFor="let item of mapOfExpandedData[data.treeId]">
						<tr *ngIf="(item.parent && item.parent.expanded) || !item.parent">
							<td [nzIndentSize]="item.levelId! * 20" [nzShowExpand]="!!item.children"
								[(nzExpand)]="item.expanded"
								(nzExpandChange)="collapse(mapOfExpandedData[data.treeId], item, $event)">
								{{ item.code }}

							</td>
							<td>{{ item.nameAr }}</td>
							<td>{{ item.nameEn }}</td>
							<td class="d-flex gap-2">
								<button nz-button nzType="primary" (click)="addNode(item.id)"
									class="btn-primary">{{'toolbar.new'|translate}}</button>
								<button nz-button nzType="default" (click)="onEdit(item.id)" class="btn-secondary">
									{{'buttons.edit'|translate}}</button>
								<button nz-button nzType="danger" (click)="showConfirmDeleteMessage(item.id)"
									class="btn-danger">
									{{'buttons.delete'|translate}}</button>
							</td>

						</tr>
					</ng-container>
				</ng-container>
			</tbody>
		</nz-table>
	</div>
</div>