<ngx-spinner bdColor="rgba(0, 0, 0, 0.8)" size="medium" color="#fff" type="ball-scale-multiple" [fullScreen]="true">
	<p style="color: white ;font-size: 20px;"> {{'general.loading'|translate}}...... </p>
</ngx-spinner>
<div class="card">
	<div class="card-body">
		<div class="d-flex justify-content-between mb-3">
			<button nz-button nzType="primary" (click)="expandAllRows()">
				{{ 'general.all' | translate }}
			</button>
		</div>
		<div class="table-responsive">
			<nz-table #expandTable [nzBordered]="true" [nzData]="listOfMapData" nzTableLayout="fixed"
				class="table table-broder table-tree">
				<thead>
					<tr>
						<th> {{'general.code'|translate}}</th>
						<th> {{'general.nameAr'|translate}}</th>
						<th> {{'general.nameEn'|translate}}</th>
						<th> {{'buttons.add'|translate}}</th>
						<th> {{'buttons.edit'|translate}}</th>
						<th> {{'buttons.delete'|translate}}</th>
					</tr>
				</thead>
				<tbody>
					<ng-container *ngFor="let data of expandTable.data">
						<ng-container *ngFor="let item of mapOfExpandedData[data.treeId]">
							<tr *ngIf="(item.parent && item.parent.expanded) || !item.parent"
								[class.item-children]="(item.parent && item.parent.expanded)"
								[ngClass]="'level-' + item.levelId">
								<td [nzIndentSize]="item.levelId! * 20" [nzShowExpand]="!!item.children"
									[(nzExpand)]="item.expanded"
									(nzExpandChange)="collapse(mapOfExpandedData[data.treeId], item, $event)">
									{{ item.code }}

								</td>

								<td>{{ item.nameAr }}</td>
								<td>{{ item.nameEn }}</td>
								<td>
									<button nz-button (click)="addNode(item.id)" class="">
										<i class="fa fa-file-o"></i>
										<!-- {{'toolbar.new'|translate}} -->
									</button>
								</td>
								<td>
									<button nz-button (click)="onEdit(item.id)" class="">
										<!-- {{'buttons.edit'|translate}} -->
										<i class="fa fa-edit"></i>
									</button>
								</td>
								<td>
									<button nz-button (click)="showConfirmDeleteMessage(item.id)" class="">
										<i class="fa fa-trash"></i>
										<!-- {{'buttons.delete'|translate}} -->
									</button>
								</td>

							</tr>
						</ng-container>
					</ng-container>
				</tbody>
			</nz-table>
		</div>
	</div>
</div>